#include "ee.hpp"

// Doesn't stress much, just loops, doing some math
void eebench_loopArithmetic(void)
{
	eePrintf("Starting the EE arithmetic test\n");
	while (1)
	{
		asm __volatile__(
			"li $t1, 2\n" // Divide by 2
			"addi $t0, $t0, 1\n" // Increment by one
			"or $t2,$zero,$t0\n" // Store current increment
			"div $t2, $t1\n" // Divide by 2
			"or $t3,$t2,$zero\n" // Store result of division
			::
				: "$t0", "$t1", "$t2", "$t3");

		if (pad_do_i_leave())
			return;
	}
}

// Developed to bench: https://github.com/PCSX2/pcsx2/pull/4739
void eebench_SDXLDXFallback(void)
{
	u128 someMemory = (u128)0x123456789abcdef << 64 | (u128)0x123456789abcdef;
	eePrintf("Starting the EE SDL,SDR,LDL,and LDR tests");

	while (1)
	{
		for (int i = 0; i < 1800000; i++)
		{
			// TODO: Dyanmic code generation
			if (pad_do_i_leave())
				return;
			asm(
				"LDL $t0, 0(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 0(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 0(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 0(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 1(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 1(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 1(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 1(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 2(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 2(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 2(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 2(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 3(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 3(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 3(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 3(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 4(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 4(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 4(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 4(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 5(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 5(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 5(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 5(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 6(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 6(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 6(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 6(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 7(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 7(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 7(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 7(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 8(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 8(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 8(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 8(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 9(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 9(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 9(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 9(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 10(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 10(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 10(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 10(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 11(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 11(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 11(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 11(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 12(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 12(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 12(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 12(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 13(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 13(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 13(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 13(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 14(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 14(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 14(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDR $t0, 14(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDL $t0, 15(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"SDL $t0, 15(%0)\n"
				"addi $t1, $zero, 0x100\n"
				"addiu $t2, $t1, 0x200\n"
				"addiu $s0, $t3, 0x200\n"
				"addiu $s1, $s0, 0x400\n"
				"addiu $s2, $s1, 0x500\n"
				"addiu $s3, $s2, 0x600\n"
				"addu $s4, $s3, $t1\n"
				"LDR $t0, 15(%0)\n"
				"SDR $t0, 15(%0)\n" ::"r"(&someMemory)
				: "$t0", "$t1", "$t2", "$t3", "$s0", "$s1", "$s2", "$s3", "$s4");
		}
		graph_wait_vsync();
	}
}